(kicad_sch (version 20211123) (generator eeschema)

  (uuid 195b428b-930b-4aa9-ad36-351d3fe44bb2)

  (paper "A4")

  (lib_symbols
  )


  (polyline (pts (xy 218.44 80.01) (xy 271.78 80.01))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 0316f011-d463-4f1b-a5d9-66040d603de6)
  )
  (polyline (pts (xy 116.205 62.23) (xy 142.24 62.23))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 04345d80-7eb0-4abc-9d58-1ecca0366a88)
  )
  (polyline (pts (xy 218.44 69.85) (xy 248.92 69.85))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 0650b7fb-e305-4454-b79c-317646c6a003)
  )
  (polyline (pts (xy 142.24 59.055) (xy 142.24 74.295))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 18f92d9e-1632-486d-85ef-f2595a8ec2e0)
  )
  (polyline (pts (xy 218.44 74.93) (xy 266.7 74.93))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 1fe59095-e69a-494c-b2cf-550b8a6ce81d)
  )
  (polyline (pts (xy 248.92 67.31) (xy 272.415 67.31))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 2ee4a189-94b9-4b42-9e97-dba20e4faff9)
  )
  (polyline (pts (xy 116.84 80.01) (xy 212.09 80.01))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 2f5c3ffa-3611-42d5-92fa-940757c1e501)
  )
  (polyline (pts (xy 248.92 70.485) (xy 272.415 70.485))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 3ed34416-0925-49ef-987d-e395b5075a07)
  )
  (polyline (pts (xy 218.44 92.71) (xy 248.92 92.71))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 416a3e64-e1d0-43a8-824c-6ea8afe3c7eb)
  )
  (polyline (pts (xy 189.865 29.21) (xy 189.865 35.56))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 4c772b50-8cbb-4d71-9d9d-8fae85cfeef8)
  )
  (polyline (pts (xy 215.265 59.055) (xy 215.265 22.86))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 4e9cc284-d2f8-4cf6-8b88-97fc654ebfe5)
  )
  (polyline (pts (xy 148.59 69.85) (xy 212.09 69.85))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 52436a6f-2045-4edd-b6ce-04652ed086d1)
  )
  (polyline (pts (xy 148.59 67.31) (xy 212.09 67.31))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 5418423d-cc99-42d3-afdb-ba24cb312f6c)
  )
  (polyline (pts (xy 269.24 77.47) (xy 269.24 70.485))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 594e1b4e-2e53-4a2d-87ee-b0901bb794db)
  )
  (polyline (pts (xy 137.16 69.85) (xy 142.24 69.85))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 5b0890dc-81f2-45a4-8a26-7ddc90843f65)
  )
  (polyline (pts (xy 266.7 74.93) (xy 266.7 70.485))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 655c262e-911f-4c64-9603-ca69a7997bf2)
  )
  (polyline (pts (xy 148.59 74.295) (xy 142.24 74.295))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 65676db5-f770-47cf-abab-594271d3993f)
  )
  (polyline (pts (xy 200.66 29.21) (xy 210.82 29.21))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 685f980f-e73b-4f51-a5ed-09e215c9120a)
  )
  (polyline (pts (xy 170.18 48.895) (xy 191.77 48.895))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6a4c1244-eb7d-4f9f-9775-8f8cc7940911)
  )
  (polyline (pts (xy 248.92 69.85) (xy 248.92 70.485))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6cfd870e-6740-4b75-b22e-6f42ca94a0a0)
  )
  (polyline (pts (xy 142.24 59.055) (xy 148.59 59.055))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 6e05bc29-ca6b-4721-ad59-0a760c0b9c9a)
  )
  (polyline (pts (xy 272.415 67.31) (xy 272.415 70.485))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 70d223a2-c413-48e5-8f42-6a43174cc29a)
  )
  (polyline (pts (xy 218.44 62.23) (xy 236.855 62.23))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 77034fe6-9c7d-42b7-8ad0-fea89e6c20dc)
  )
  (polyline (pts (xy 200.66 29.21) (xy 200.66 35.56))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 78f09516-71ff-4f33-bfa9-e45f2792c550)
  )
  (polyline (pts (xy 116.205 67.31) (xy 142.24 67.31))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 7a83910a-603f-442f-b7bf-2f2c7af6c483)
  )
  (polyline (pts (xy 180.975 48.895) (xy 180.975 35.56))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 7d10d7c1-2363-4366-b465-9f6857976583)
  )
  (polyline (pts (xy 212.09 59.055) (xy 218.44 59.055))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 81c6ca6c-3459-463b-949b-74ebe429c847)
  )
  (polyline (pts (xy 180.975 62.23) (xy 180.975 56.515))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 8427c93a-e78d-4b43-bb47-c810fd075b93)
  )
  (polyline (pts (xy 212.09 59.055) (xy 212.09 99.06))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 868ea673-16b0-47b5-85b2-07b6183353c1)
  )
  (polyline (pts (xy 218.44 99.06) (xy 212.09 99.06))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 88bff501-5218-4091-93fb-8588914a36de)
  )
  (polyline (pts (xy 218.44 64.77) (xy 236.855 64.77))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 8c2a1461-d82d-472d-a56c-77f6ffaa91bf)
  )
  (polyline (pts (xy 148.59 59.055) (xy 148.59 74.295))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 8e9bfb15-da6e-4910-b4a7-fa501cb78348)
  )
  (polyline (pts (xy 218.44 87.63) (xy 248.92 87.63))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 8eb56d9b-5d10-4586-8b6f-e50b1447b003)
  )
  (polyline (pts (xy 173.355 29.21) (xy 173.355 35.56))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid 91ec6640-4886-4b21-865d-4fd22987f3f5)
  )
  (polyline (pts (xy 218.44 77.47) (xy 269.24 77.47))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 9640cec3-0325-4e4f-91a0-9e5147aa54df)
  )
  (polyline (pts (xy 218.44 85.09) (xy 248.92 85.09))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 9cf72fbc-f823-404d-8c4f-ae6e16227653)
  )
  (polyline (pts (xy 180.975 29.21) (xy 180.975 22.86))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 9f42e56b-424b-41d6-a515-92a7ea0b00f7)
  )
  (polyline (pts (xy 116.84 74.93) (xy 212.09 74.93))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid a2540abb-31e6-4b26-b74d-6b1d9179d4b1)
  )
  (polyline (pts (xy 205.74 29.21) (xy 205.74 22.86))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid a3e72310-07a3-4fa8-aabc-bcfb3cb7a905)
  )
  (polyline (pts (xy 218.44 59.055) (xy 218.44 99.06))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid a8cee2da-8c23-46f7-8e83-9b82ec0e65d3)
  )
  (polyline (pts (xy 116.84 77.47) (xy 212.09 77.47))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid a9335cb7-7dce-4ab4-b12b-28842159c108)
  )
  (polyline (pts (xy 170.18 48.895) (xy 170.18 56.515))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid aba3c51c-b2ef-4c51-a25c-dc394298acc6)
  )
  (polyline (pts (xy 145.415 59.055) (xy 145.415 22.86))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid abbd99fc-c14d-454f-8ef5-43ef3959bc2a)
  )
  (polyline (pts (xy 210.82 35.56) (xy 200.66 35.56))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b18b7512-20a9-4567-b039-d31ecd02e1ca)
  )
  (polyline (pts (xy 191.77 56.515) (xy 170.18 56.515))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b7b4690d-cf4d-48f8-9279-63ce283a45c4)
  )
  (polyline (pts (xy 173.355 29.21) (xy 189.865 29.21))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid b8a234d5-ef15-4919-9454-58e5eb083664)
  )
  (polyline (pts (xy 210.82 29.21) (xy 210.82 35.56))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid bcbfb1b0-ca5c-4a72-baf2-4a1d8f89edba)
  )
  (polyline (pts (xy 218.44 97.79) (xy 248.92 97.79))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid c5d7c23c-7b79-473a-b6e8-2f40f15db0ee)
  )
  (polyline (pts (xy 191.77 48.895) (xy 191.77 56.515))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid ceb4f591-6651-49f0-9196-e041d1764294)
  )
  (polyline (pts (xy 116.205 64.77) (xy 142.24 64.77))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid cf45b7f3-a7b7-4bf6-9104-a9bd5255e5e8)
  )
  (polyline (pts (xy 248.92 69.85) (xy 248.92 67.31))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid d621c7b4-ad06-4e03-b298-9ce9752e334f)
  )
  (polyline (pts (xy 148.59 72.39) (xy 212.09 72.39))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid e35c03a0-2188-40c0-9372-681cc7e32ce5)
  )
  (polyline (pts (xy 189.865 35.56) (xy 173.355 35.56))
    (stroke (width 0) (type default) (color 0 0 0 0))
    (uuid e4bb725c-15e6-47d9-8b95-5658ba3804ee)
  )
  (polyline (pts (xy 271.78 80.01) (xy 271.78 70.485))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid eb3323ad-a716-4317-a58d-e4f1722db1bb)
  )
  (polyline (pts (xy 145.415 22.86) (xy 215.265 22.86))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid f68c3c20-1d8f-4c2c-940a-aba4b20ca5b0)
  )
  (polyline (pts (xy 148.59 62.23) (xy 212.09 62.23))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid f7d2df25-308b-45d4-a4de-306068d7a5f1)
  )
  (polyline (pts (xy 137.16 74.93) (xy 137.16 69.85))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid f80a5028-c91d-41ea-8eb4-84ef24187520)
  )

  (text "MCU1_RUN" (at 181.61 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 0b540c3e-e941-4071-9422-c8634aad2852)
  )
  (text "Alternative demux\nsn74lvc138a-q1" (at 223.52 118.11 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 13eee299-3e96-4644-bad3-f94695f25b80)
  )
  (text "4 DIO, 1 SCK\nPSRAM * 8" (at 187.325 34.29 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 187b3628-8a03-4e3d-96eb-574c03981081)
  )
  (text "16+2+2 = 20" (at 125.73 62.23 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 1f7d419e-f9dd-4b78-a371-b4e3fc66fd0e)
  )
  (text "1 ESP32_EN" (at 220.98 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 21f70678-55d5-4bf2-a174-9e2ee91d4812)
  )
  (text "0 UART [reuse QSPI pins]" (at 220.98 80.01 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 2311ae6b-69c6-438f-af17-957e0018c6ad)
  )
  (text "1" (at 151.13 67.31 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 29ccf62f-ccb9-4591-ac88-592b82bccf1b)
  )
  (text "PSRAM alternative to ly68l6400slit:\nAPS6404L-3SQR-SN"
    (at 223.52 125.73 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 31c550c0-ef28-4f20-8317-e516baa3c7da)
  )
  (text "0 ESP32_GP9/ROMBL [reuse QSPI pins]" (at 220.98 77.47 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 417b2077-5142-4a8d-a9d5-f7e5a58c93bf)
  )
  (text "MCU1 Pin Count = 30\n20+1+1+1+2+1+1+3" (at 133.985 86.36 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 41ebcf6b-67b6-4e38-9611-78a4d7fdebf3)
  )
  (text "2 (DIO, SCK) Master" (at 151.13 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 426c8184-88e8-4932-a1b3-baa4e5f34d04)
  )
  (text "Shared SSI/XIP/QSPI bus" (at 146.05 21.59 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 44d98060-3e76-49d4-b065-2a3acf4e5c95)
  )
  (text "MCU2 Clock output" (at 248.92 97.79 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 45fb6379-b5af-43ba-8302-661272946e87)
  )
  (text "Wifi Module, ESP32-C3" (at 248.92 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 460fe7ca-6268-4609-b9df-18b6ef587d5e)
  )
  (text "Boot Button" (at 236.22 64.77 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 4970d6e8-0bb1-4ea7-9723-9e91c8ea9e02)
  )
  (text "2" (at 220.98 92.71 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 4b5f9aa2-68b3-4a82-b94e-4a7e378aa038)
  )
  (text "N64_COLD_RESET" (at 116.84 74.93 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 4b6d61e2-f651-4841-b8e4-a0369ad44f5c)
  )
  (text "1" (at 209.55 67.31 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 530d69fb-4f2f-4184-8cd5-250fe1e2ca07)
  )
  (text "WS2812 LED" (at 248.92 87.63 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 5504c269-fb6f-439b-95b8-4a3765384a02)
  )
  (text "BOOT" (at 220.98 64.77 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 55e40139-e4b5-476c-a4cd-31f76a95a0f3)
  )
  (text "N64_NMI" (at 116.84 80.01 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 5aea3219-e99a-4f30-9942-de99bfa93ae1)
  )
  (text "MCU2" (at 212.725 61.595 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 5b78dccc-7fb4-47bf-b9c3-d85e65aa6f3c)
  )
  (text "SD-Card" (at 248.92 85.09 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 60c6af00-8771-468c-85e0-7505afd2da37)
  )
  (text "1" (at 121.285 80.01 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 61c2fc59-33e8-43cb-88cb-ee1887fa2d21)
  )
  (text "4" (at 209.55 62.23 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 66c4ae50-8ca2-4956-b725-8ba11eb01164)
  )
  (text "USB connector" (at 236.22 62.23 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 6da71498-495e-4824-8081-72c5d72401dd)
  )
  (text "3-bit 8 out demux" (at 171.45 52.705 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 71e77aea-512c-4b38-8449-d81fb056df6a)
  )
  (text "RP2040 internal SRAM = 264 kB" (at 223.52 132.715 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 7337c320-f9bf-4b91-a802-c32a910e6630)
  )
  (text "2" (at 120.015 77.47 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 774814c9-b0b9-4ce1-b09c-c11e81ac1d93)
  )
  (text "1" (at 138.43 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 7a89c42b-8778-48a3-99bf-d699c8b8ac8f)
  )
  (text "1" (at 120.015 74.93 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 7b80cd7b-5f38-41d7-a6bc-93b016ec05ca)
  )
  (text "8*CS\n(w/pull-ups)" (at 179.07 43.18 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 7c181b58-f961-447e-bb50-98da5eb6cfe4)
  )
  (text "N64_BUS" (at 116.84 62.23 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 7d3631e8-9f2b-4982-b980-c45859c3fe35)
  )
  (text "1" (at 220.98 97.79 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 806fab5b-b850-4f7e-af9e-b5c809f4ddda)
  )
  (text "Small\nFlash" (at 203.2 34.29 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 8b25240d-2997-484a-ae57-38664dd71de6)
  )
  (text "1" (at 139.7 67.31 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid 903c62e8-b24c-49ed-b328-9bccec1bda69)
  )
  (text "RUN (w/pull-down)" (at 151.13 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 90877155-e1e4-42e2-81e6-432e4f5ece4a)
  )
  (text "demux_IE" (at 176.53 55.245 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 9fd89e53-fec3-4a29-8488-af6647c39b90)
  )
  (text "--- PSRAM Architecture ---\nMCU1, MCU2 and all PSRAMs are connected to SSI. Both can read/write.\nMCU1 and MCU2 are connected to a 3-bit, 8 output demux + IE pin.\nDemux is connected to each PSRAM's CS pin.\n\n--- N64 ROM ---\nMCU2 holds MCU1 in reset, fills PSRAM with data.\nMCU1 handles N64 bus requests, reads data directly from PSRAM.\n\n--- N64 SRAM ---\nMCU1 handles bus request, read/store in internal SRAM.\nStores to external flash directly, and/or to SDCard via MCU2.\n\n--- N64 Serial Interface (EEPROM/RTC) ---\nMCU1 handles this on the core that doesn't handle the N64_PI bus.\nStores to external flash directly, and/or to SDCard via MCU2.\n\n--- CIC Emulation ---\nMCU2 handles this on a dedicated core.\n\n--- MCU1 -> MCU2 communication ---\nMCU2_CS should be configured as input on MCU2, and Open Drain output on MCU1.\nMCU1 acts as an SPI Master with PIO.\nCombining miso/mosi to one pin, we save 1 pin.\n\n--- Firmware delivery ---\n* Small Flash on shared SSI bus\nBootloader firmware for both MCU1 and MCU2 is stored on this\n\n* MCU2:\nMCU2 is \"main\" and will boot first (MCU1_RUN has external pulldown).\nAfter boot, MCU2 realizes it's MCU2 by checking MCU1_RUN pin (will be low)\nMCU2 may download application firmware from SDCard into RAM and execute.\nMCU2 disables output on SSI_CS and SSI_SCLK.\nMCU2 drives MCU1_RUN high, letting MCU1 boot.\n\n* MCU1:\nAfter loading bootloader from flash, detects it's MCU1.\n  ! The GPIO chosen for MCU2's [MCU1_RUN GPIO] must be connected to an\n    idle-high signal on MCU1, e.g. MCU2's MCU2_CS? !\nMCU1 optionally requests application from MCU2 over DIO-SPI.\n\n* WiFi module:\nFirmware can be updated from MCU2 with a recovery image.\n\n--- WiFi module role ---\nMCU2 can update firmware by pulling GP9 low, toggling EN,\nthen perform update over UART.\nWiFi module enables loading ROMs from network to SDCard.\nWiFi module enables saveing/loading SRAM/EEPROM saves to network.\nPotential multiplayer stuff.\nMCU1 can access it via MCU2.\nMCU2 uses PIO QSPI controller.\nQSPI slave interface can be implemented and assigned on any GPIO.\n\n--------- Core responsibilities\n\nMCU1:\n- Core 0:\n--- N64_BUS [PIO #1]\n--- N64_INT control\n--- N64_CR interrupt\n--- PSRAM synchronous access\n- Core 1:\n--- Asynchronous tasks\n--- MCU2 SPI [PIO #2]\n--- N64_S_DAT communication\n\nMCU2:\n- Core 0:\n--- PSRAM\n--- SDCard [PIO #1]\n--- ESP32 QSPI [PIO #2]\n--- LED control\n--- N64_NMI control\n--- SPI slave (MCU1 is master)\n- Core 1:\n--- CIC\n--- N64_CR interrupt\n"
    (at 15.875 177.165 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid a0e30f5c-6cf6-4bcb-a0bd-c567bfc2c675)
  )
  (text "D+/D-" (at 220.98 62.23 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid a36b2e42-9599-44a2-9eea-e0a0044a2215)
  )
  (text "N64_INT" (at 116.84 67.31 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid a6a584e7-db4c-4026-922d-7e004a82b191)
  )
  (text "MCU2 Pin Count = 30\n4+1+3+1+1+2+1 + 1+2+1+6+6+1" (at 200.66 106.68 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid a8a3263c-a24e-4ae2-a5af-c0c09e43239b)
  )
  (text "1" (at 209.55 72.39 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid adf87c15-4f53-4770-8bc1-ce6dc2c09edf)
  )
  (text "MC74AC138 fast 3-bit 8 output demultiplexer (active LOW)"
    (at 223.52 113.03 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid b46d72a2-45d6-48a4-9dff-8a18b254fee8)
  )
  (text "MCU2_SPI_Slave" (at 181.61 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid b4e23424-7732-4362-98d7-c0403d3dfd8a)
  )
  (text "6" (at 220.98 85.09 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid b7842b98-ebc7-4143-9a03-ba90757858dd)
  )
  (text "3" (at 209.55 69.85 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid bbf43c4d-d6aa-4f08-9785-ebde895bb589)
  )
  (text "1" (at 138.43 64.77 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid bd0da0b9-760e-4d73-96e5-b5258637f585)
  )
  (text "MCU1" (at 142.875 61.595 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid c83748ff-faa2-460e-93d2-9aa10059638a)
  )
  (text "MCU1_INT / MCU2_CS" (at 170.815 67.31 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid d21afcac-a7c2-468c-92a4-603251a4d305)
  )
  (text "6 (4DIO/SCK/CS)" (at 220.98 74.93 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid d422e3a1-dc33-43f1-9edc-8edbf9b609f1)
  )
  (text "Debug UART" (at 248.92 92.71 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid de2eb3e9-a130-4452-9074-6b0d58cdec0e)
  )
  (text "4 (3 Addr, 1 InputEnable)" (at 151.13 62.23 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid e7817eed-94b4-4ab8-b2c5-76be50d3b2da)
  )
  (text "N64_S_DAT" (at 116.84 64.77 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid ea6bcc90-82c6-49d0-a55b-6de9f7b49873)
  )
  (text "1" (at 220.98 87.63 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid ed97d0c3-e851-4b63-ad19-b03229d73614)
  )
  (text "N64_CIC" (at 116.84 77.47 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid f17cc824-7afd-4da0-bee7-e242ab37da8b)
  )
  (text "1" (at 210.82 80.01 180)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid f2dcc3e1-1de2-4399-95f5-9865bfd4905f)
  )
  (text "2" (at 209.55 77.47 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid fa7226e2-d43e-4f26-95ec-0cfa37e134f0)
  )
  (text "1" (at 209.55 74.93 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid fc6dd613-d831-4ac1-beeb-7389495d62a8)
  )
)
